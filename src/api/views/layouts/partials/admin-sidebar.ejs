<aside class="lg:fixed inset-0 lg:flex lg:w-72 bg-black text-white z-10">
  <div class="w-full lg:w-72 h-full flex flex-col">
    <div class="flex items-center justify-center pt-5 pb-5 bg-black">
      <img class="w-8 h-8 mr-2" src="https://cdn-icons-png.flaticon.com/512/3081/3081559.png" alt="icon">
      <span class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">E-Cart</span>
    </div>

    <nav class="flex-1 px-4 py-6 space-y-1 overflow-y-auto">
      <a href="/admin/dashboard" data-menu="dashboard" class="menu-item group flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-all duration-200">
        <div class="flex items-center justify-center w-8 h-8 rounded-md bg-blue-500/10 text-blue-400 group-[.active]:bg-blue-500/20 group-[.active]:text-blue-400">
          <i class="fas fa-tachometer-alt"></i>
        </div>
        <span class="text-sm font-medium">Dashboard</span>
      </a>

      <div class="menu-container">
        <button data-toggle="categories" class="menu-item group w-full flex items-center justify-between p-3 text-left rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center space-x-3">
            <div class="flex items-center justify-center w-8 h-8 rounded-md bg-purple-500/10 text-purple-400 group-[.active]:bg-purple-500/20 group-[.active]:text-purple-400">
              <i class="fas fa-tags"></i>
            </div>
            <span class="text-sm font-medium">Categories</span>
          </div>
          <i class="fas fa-chevron-right chevron-icon text-gray-400 text-xs transition-transform duration-200"></i>
        </button>
        <div data-submenu="categories" class="submenu pl-11 mt-1 hidden">
          <a href="/admin/categories/manage" data-menu="categories-add" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-plus-circle mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            Add Category
          </a>
          <a href="/admin/categories" data-menu="categories-list" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-list mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            List Categories
          </a>
        </div>
      </div>

      <div class="menu-container">
        <button data-toggle="brands" class="menu-item group w-full flex items-center justify-between p-3 text-left rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center space-x-3">
            <div class="flex items-center justify-center w-8 h-8 rounded-md bg-purple-500/10 text-purple-400 group-[.active]:bg-purple-500/20 group-[.active]:text-purple-400">
              <i class="fas fa-copyright"></i>
            </div>
            <span class="text-sm font-medium">Brands</span>
          </div>
          <i class="fas fa-chevron-right chevron-icon text-gray-400 text-xs transition-transform duration-200"></i>
        </button>
        <div data-submenu="brands" class="submenu pl-11 mt-1 hidden">
          <a href="/admin/brands/manage" data-menu="brands-add" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-plus-circle mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            Add Brand
          </a>
          <a href="/admin/brands" data-menu="brands-list" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-list mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            List Brands
          </a>
        </div>
      </div>

      <div class="menu-container">
        <button data-toggle="attributes" class="menu-item group w-full flex items-center justify-between p-3 text-left rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center space-x-3">
            <div class="flex items-center justify-center w-8 h-8 rounded-md bg-blue-500/10 text-blue-400 group-[.active]:bg-blue-500/20 group-[.active]:text-blue-400">
              <i class="fas fa-list-alt"></i>
            </div>
            <span class="text-sm font-medium">Attributes</span>
          </div>
          <i class="fas fa-chevron-right chevron-icon text-gray-400 text-xs transition-transform duration-200"></i>
        </button>
        <div data-submenu="attributes" class="submenu pl-11 mt-1 hidden">
          <a href="/admin/attributes/manage" data-menu="attributes-add" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-plus-circle mr-2 text-gray-400 group-[.active]:text-blue-400"></i>
            Add Attribute
          </a>
          <a href="/admin/attributes" data-menu="attributes-list" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-list mr-2 text-gray-400 group-[.active]:text-blue-400"></i>
            List Attributes
          </a>
        </div>
      </div>

      <div class="menu-container">
        <button data-toggle="products" class="menu-item group w-full flex items-center justify-between p-3 text-left rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center space-x-3">
            <div class="flex items-center justify-center w-8 h-8 rounded-md bg-purple-500/10 text-purple-400 group-[.active]:bg-purple-500/20 group-[.active]:text-purple-400">
              <i class="fas fa-box-open"></i>
            </div>
            <span class="text-sm font-medium">Products</span>
          </div>
          <i class="fas fa-chevron-right chevron-icon text-gray-400 text-xs transition-transform duration-200"></i>
        </button>
        <div data-submenu="products" class="submenu pl-11 mt-1 hidden">
          <a href="/admin/products/manage" data-menu="products-add" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-plus-circle mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            Add Product
          </a>
          <a href="/admin/products" data-menu="products-list" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-list mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            List Products
          </a>
        </div>
      </div>

      <div class="menu-container">
        <button data-toggle="coupons" class="menu-item group w-full flex items-center justify-between p-3 text-left rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center space-x-3">
            <div class="flex items-center justify-center w-8 h-8 rounded-md bg-purple-500/10 text-purple-400 group-[.active]:bg-purple-500/20 group-[.active]:text-purple-400">
              <i class="fas fa-ticket-alt"></i>
            </div>
            <span class="text-sm font-medium">Coupons</span>
          </div>
          <i class="fas fa-chevron-right chevron-icon text-gray-400 text-xs transition-transform duration-200"></i>
        </button>
        <div data-submenu="coupons" class="submenu pl-11 mt-1 hidden">
          <a href="/admin/coupons/manage" data-menu="coupons-add" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-plus-circle mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            Add Coupon
          </a>
          <a href="/admin/coupons" data-menu="coupons-list" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-list mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            List Coupons
          </a>
        </div>
      </div>

      <div class="menu-container">
        <button data-toggle="banners" class="menu-item group w-full flex items-center justify-between p-3 text-left rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center space-x-3">
            <div class="flex items-center justify-center w-8 h-8 rounded-md bg-purple-500/10 text-purple-400 group-[.active]:bg-purple-500/20 group-[.active]:text-purple-400">
              <i class="fas fa-image"></i>
            </div>
            <span class="text-sm font-medium">Banners</span>
          </div>
          <i class="fas fa-chevron-right chevron-icon text-gray-400 text-xs transition-transform duration-200"></i>
        </button>
        <div data-submenu="banners" class="submenu pl-11 mt-1 hidden">
          <a href="/admin/banners/manage" data-menu="banners-add" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-plus-circle mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            Add Banner
          </a>
          <a href="/admin/banners" data-menu="banners-list" class="submenu-item group flex items-center py-2 px-3 my-1 text-sm text-gray-300 rounded-md hover:bg-gray-800 transition-all duration-200">
            <i class="fas fa-list mr-2 text-gray-400 group-[.active]:text-purple-400"></i>
            List Banners
          </a>
        </div>
      </div>

      <div class="menu-container">
        <a href="/admin/customers" class="menu-item group flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center justify-center w-8 h-8 rounded-md bg-blue-500/10 text-blue-400 group-[.active]:bg-blue-500/20 group-[.active]:text-blue-400">
            <i class="fas fa-users"></i>
          </div>
          <span class="text-sm font-medium">Customers</span>
        </a>
      </div>      

      <div class="menu-container">
        <a href="/admin/orders" class="menu-item group flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center justify-center w-8 h-8 rounded-md bg-purple-500/10 text-purple-400 group-[.active]:bg-purple-500/20 group-[.active]:text-purple-400">
            <i class="fas fa-clipboard-list"></i>
          </div>
          <span class="text-sm font-medium">Orders</span>
        </a>
      </div>

      <div class="menu-container">
        <a href="/admin/reports" class="menu-item group flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-800 transition-all duration-200">
          <div class="flex items-center justify-center w-8 h-8 rounded-md bg-purple-500/10 text-purple-400 group-[.active]:bg-purple-500/20 group-[.active]:text-purple-400">
            <i class="fas fa-chart-bar"></i>
          </div>
          <span class="text-sm font-medium">Reports</span>
        </a>
      </div>
    </nav>

    <div class="mt-auto pt-4 mx-4">
      <div class="flex items-center p-3 mb-2">
        <div class="h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold mr-3">
          <i class="fas fa-user"></i>
        </div>
        <div>
          <p class="text-sm font-medium">Admin User</p>
          <p class="text-xs text-gray-400">admin@ecart.com</p>
        </div>
      </div>
    </div>

    <div class="px-4 py-4">
      <a href="/admin/logout" class="w-full flex items-center justify-center space-x-2 p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-all duration-200 group">
        <i class="fas fa-sign-out-alt text-gray-400 group-hover:text-white transition-colors"></i>
        <span class="text-sm font-medium">Logout</span>
      </a>
    </div>
  </div>
</aside>

<script>
  document.querySelectorAll('[data-toggle]').forEach(toggleBtn => {
    toggleBtn.addEventListener('click', (e) => {
      if (e.target.tagName === 'A') return;
      const target = toggleBtn.getAttribute('data-toggle');
      const submenu = document.querySelector(`[data-submenu="${target}"]`);
      const chevron = toggleBtn.querySelector('.chevron-icon');
      submenu.classList.toggle('hidden');
      chevron.classList.toggle('rotate-90');
      const container = toggleBtn.closest('.menu-container');
      container.querySelectorAll('.menu-item, .submenu-item').forEach(item => {
        item.classList.remove('active');
      });
      toggleBtn.classList.add('active');
    });
  });

  document.querySelectorAll('.menu-item[href], .submenu-item[href]').forEach(link => {
    link.addEventListener('click', function() {
      document.querySelectorAll('.menu-item, .submenu-item').forEach(item => {
        item.classList.remove('active');
      });
      this.classList.add('active');
      if (this.classList.contains('submenu-item')) {
        const submenu = this.closest('[data-submenu]');
        const menuName = submenu.getAttribute('data-submenu');
        const parentMenu = document.querySelector(`[data-toggle="${menuName}"]`);
        if (parentMenu) {
          parentMenu.classList.add('active');
          submenu.classList.remove('hidden');
          const chevron = parentMenu.querySelector('.chevron-icon');
          if (chevron) chevron.classList.add('rotate-90');
        }
      }
    });
  });

  function setInitialActiveState() {
    const currentPath = window.location.pathname;
    let activeFound = false;
    document.querySelectorAll('[href]').forEach(link => {
      if (link.getAttribute('href') === currentPath) {
        link.classList.add('active');
        activeFound = true;
        if (link.classList.contains('submenu-item')) {
          const submenu = link.closest('[data-submenu]');
          const menuName = submenu.getAttribute('data-submenu');
          const parentMenu = document.querySelector(`[data-toggle="${menuName}"]`);
          if (parentMenu) {
            parentMenu.classList.add('active');
            submenu.classList.remove('hidden');
            const chevron = parentMenu.querySelector('.chevron-icon');
            if (chevron) chevron.classList.add('rotate-90');
          }
        }
      }
    });
    if (!activeFound) {
      document.querySelectorAll('[href]').forEach(link => {
        const href = link.getAttribute('href');
        if (href !== '/' && currentPath.startsWith(href)) {
          link.classList.add('active');
          if (link.classList.contains('submenu-item')) {
            const submenu = link.closest('[data-submenu]');
            const menuName = submenu.getAttribute('data-submenu');
            const parentMenu = document.querySelector(`[data-toggle="${menuName}"]`);
            if (parentMenu) {
              parentMenu.classList.add('active');
              submenu.classList.remove('hidden');
              const chevron = parentMenu.querySelector('.chevron-icon');
              if (chevron) chevron.classList.add('rotate-90');
            }
          }
        }
      });
    }
  }
  setInitialActiveState();
</script>

<style>
  nav::-webkit-scrollbar {
    display: none;
  }
  nav {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .menu-item.active,
  .submenu-item.active {
    background-color: rgba(55, 65, 81, 1);
  }
  .menu-item.active .text-sm,
  .submenu-item.active .text-sm {
    color: white;
    font-weight: 500;
  }
  .rotate-90 {
    transform: rotate(90deg);
  }
</style>